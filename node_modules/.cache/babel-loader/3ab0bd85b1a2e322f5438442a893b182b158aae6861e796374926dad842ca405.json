{"ast":null,"code":"import{useState}from\"react\";import{signOut}from\"firebase/auth\";import{auth}from\"../../config/firebase-config\";import{useNavigate}from\"react-router-dom\";import{useAddTransaction}from\"../../hooks/useAddTransaction\";import{useGetTransaction}from\"../../hooks/useGetTransaction\";import{useGetUserInfo}from\"../../hooks/useGetUserInfo\";import Select from\"react-select\";import\"./style.scss\";import{Transaction}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const ExpenseTracker=()=>{const{addTransaction}=useAddTransaction();const{transactions,transactionToals}=useGetTransaction();const{name,profilePhoto}=useGetUserInfo();const[description,setDescription]=useState(\"\");const[transactionAmount,setTransactionAmount]=useState(\"\");const[transactionType,setTransactionType]=useState(\"expense\");const{balance,income,expense}=transactionToals;const onSubmit=e=>{e.preventDefault();addTransaction({description,transactionAmount,transactionType,expenseCategory});setDescription(\"\");setTransactionAmount(\"\");};const navigate=useNavigate();const signUserOut=async()=>{try{await signOut(auth);localStorage.clear();navigate(\"/\");}catch(err){console.log(err);}};const expenseOptions=[{value:\"transport\",label:\"transport\"},{value:\"grocery\",label:\"grocery\"},{value:\"skin care\",label:\"skin care\"},{value:\"rent\",label:\"rent\"},{value:\"restaurants\",label:\"restaurants\"},{value:\"entertainment\",label:\"entertainment\"},{value:\"others\",label:\"others\"}];let imgBlock;if(profilePhoto){imgBlock=/*#__PURE__*/_jsx(\"img\",{src:profilePhoto,alt:\"profile photo\"});}else{imgBlock=/*#__PURE__*/_jsx(\"img\",{src:\"../../../public/user.png\",alt:\"profile photo\"});}const[expenseCategory,setExpenseCategory]=useState(\"unknown\");return/*#__PURE__*/_jsxs(\"div\",{className:\"expense-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"expense-tracker\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[name,\"'s \",/*#__PURE__*/_jsx(\"br\",{}),\"Expense Tracker\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile-photo-block\",children:[imgBlock,/*#__PURE__*/_jsx(\"button\",{onClick:signUserOut,children:\"Sign Out\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"balance\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Balance\"}),balance>=0?/*#__PURE__*/_jsxs(\"h2\",{children:[\"$\",balance]}):/*#__PURE__*/_jsxs(\"h2\",{children:[\"-$\",balance*-1]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"income\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Income\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",income]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expenses\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Expenses\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",expense]})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"New Transaction\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:\"add-transaction\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"type-block\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Description\",value:description,required:true,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",value:transactionAmount,required:true,onChange:e=>setTransactionAmount(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expense-or-income\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expense-cat\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"expense\",value:\"expense\",checked:transactionType===\"expense\",onChange:e=>setTransactionType(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"expense\",children:\"Expense\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"income-cat\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"income\",value:\"income\",checked:transactionType===\"income\",onChange:e=>setTransactionType(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"income\",children:\"Income\"})]})]}),/*#__PURE__*/_jsx(Select,{placeholder:\"Select Category\",options:expenseOptions,onChange:setExpenseCategory}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Transaction\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"transactions\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Transactions\"}),/*#__PURE__*/_jsx(\"ul\",{children:transactions.map((transaction,key)=>{const{description,transactionAmount,transactionType,expenseCategory}=transaction;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"h4\",{style:{color:transactionType===\"expense\"?\"red\":\"black\"},children:[description,\" | $\",transactionAmount,\" | \",transactionType,\"|\",\" \",expenseCategory.value,\" \"]})});})})]})]});};","map":{"version":3,"names":["useState","signOut","auth","useNavigate","useAddTransaction","useGetTransaction","useGetUserInfo","Select","Transaction","jsx","_jsx","jsxs","_jsxs","ExpenseTracker","addTransaction","transactions","transactionToals","name","profilePhoto","description","setDescription","transactionAmount","setTransactionAmount","transactionType","setTransactionType","balance","income","expense","onSubmit","e","preventDefault","expenseCategory","navigate","signUserOut","localStorage","clear","err","console","log","expenseOptions","value","label","imgBlock","src","alt","setExpenseCategory","className","children","onClick","action","type","placeholder","required","onChange","target","id","checked","htmlFor","options","map","transaction","key","style","color"],"sources":["/Users/lucylu/Desktop/projects/expense-tracker/src/pages/expense-tracker/index.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"../../config/firebase-config\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAddTransaction } from \"../../hooks/useAddTransaction\";\nimport { useGetTransaction } from \"../../hooks/useGetTransaction\";\nimport { useGetUserInfo } from \"../../hooks/useGetUserInfo\";\nimport Select from \"react-select\";\nimport \"./style.scss\";\nimport { Transaction } from \"firebase/firestore\";\n\nexport const ExpenseTracker = () => {\n  const { addTransaction } = useAddTransaction();\n\n  const { transactions, transactionToals } = useGetTransaction();\n\n  const { name, profilePhoto } = useGetUserInfo();\n\n  const [description, setDescription] = useState(\"\");\n  const [transactionAmount, setTransactionAmount] = useState(\"\");\n  const [transactionType, setTransactionType] = useState(\"expense\");\n\n  const { balance, income, expense } = transactionToals;\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    addTransaction({\n      description,\n      transactionAmount,\n      transactionType,\n      expenseCategory,\n    });\n\n    setDescription(\"\");\n    setTransactionAmount(\"\");\n  };\n\n  const navigate = useNavigate();\n\n  const signUserOut = async () => {\n    try {\n      await signOut(auth);\n      localStorage.clear();\n      navigate(\"/\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const expenseOptions = [\n    { value: \"transport\", label: \"transport\" },\n    { value: \"grocery\", label: \"grocery\" },\n    { value: \"skin care\", label: \"skin care\" },\n    { value: \"rent\", label: \"rent\" },\n    { value: \"restaurants\", label: \"restaurants\" },\n    { value: \"entertainment\", label: \"entertainment\" },\n    { value: \"others\", label: \"others\" },\n  ];\n\n  let imgBlock;\n  if (profilePhoto) {\n    imgBlock = <img src={profilePhoto} alt=\"profile photo\" />;\n  } else {\n    imgBlock = <img src=\"../../../public/user.png\" alt=\"profile photo\" />;\n  }\n\n  const [expenseCategory, setExpenseCategory] = useState(\"unknown\");\n  return (\n    <div className=\"expense-container\">\n      <div className=\"expense-tracker\">\n        <div className=\"inner-container\">\n          <div className=\"user-info\">\n            <h1>\n              {name}'s <br />\n              Expense Tracker\n            </h1>\n            <div>\n              <div className=\"profile-photo-block\">\n                {imgBlock}\n                <button onClick={signUserOut}>Sign Out</button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"balance\">\n            <h3>Your Balance</h3>\n            {balance >= 0 ? <h2>${balance}</h2> : <h2>-${balance * -1}</h2>}\n          </div>\n\n          <div className=\"summary\">\n            <div className=\"income\">\n              <h4>Income</h4>\n              <p>${income}</p>\n            </div>\n            <div className=\"expenses\">\n              <h4>Expenses</h4>\n              <p>${expense}</p>\n            </div>\n          </div>\n          <h3>New Transaction</h3>\n          <form action=\"\" className=\"add-transaction\" onSubmit={onSubmit}>\n            <div className=\"type-block\">\n              <input\n                type=\"text\"\n                placeholder=\"Description\"\n                value={description}\n                required\n                onChange={(e) => setDescription(e.target.value)}\n              />\n              <input\n                type=\"number\"\n                placeholder=\"Amount\"\n                value={transactionAmount}\n                required\n                onChange={(e) => setTransactionAmount(e.target.value)}\n              />\n            </div>\n\n            <div className=\"expense-or-income\">\n              <div className=\"expense-cat\">\n                <input\n                  type=\"radio\"\n                  id=\"expense\"\n                  value=\"expense\"\n                  checked={transactionType === \"expense\"}\n                  onChange={(e) => setTransactionType(e.target.value)}\n                />\n                <label htmlFor=\"expense\">Expense</label>\n              </div>\n\n              <div className=\"income-cat\">\n                <input\n                  type=\"radio\"\n                  id=\"income\"\n                  value=\"income\"\n                  checked={transactionType === \"income\"}\n                  onChange={(e) => setTransactionType(e.target.value)}\n                />\n                <label htmlFor=\"income\">Income</label>\n              </div>\n            </div>\n\n            <Select\n              placeholder={\"Select Category\"}\n              options={expenseOptions}\n              onChange={setExpenseCategory}\n            />\n\n            <button type=\"submit\">Add Transaction</button>\n          </form>\n        </div>\n      </div>\n      <div className=\"transactions\">\n        <h3>Transactions</h3>\n\n        <ul>\n          {transactions.map((transaction, key) => {\n            const {\n              description,\n              transactionAmount,\n              transactionType,\n              expenseCategory,\n            } = transaction;\n            return (\n              <li>\n                <h4\n                  style={{\n                    color: transactionType === \"expense\" ? \"red\" : \"black\",\n                  }}\n                >\n                  {description} | ${transactionAmount} | {transactionType}|{\" \"}\n                  {expenseCategory.value}{\" \"}\n                </h4>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}