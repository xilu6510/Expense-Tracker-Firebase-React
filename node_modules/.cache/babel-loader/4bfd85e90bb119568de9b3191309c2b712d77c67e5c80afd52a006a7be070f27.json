{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { db } from \"../config/firebase-config\";\nimport { query, collection, where, onSnapshot } from \"firebase/firestore\";\nimport { useGetUserInfo } from \"./useGetUserInfo\";\nexport const useGetTransaction = () => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const {\n    userID\n  } = useGetUserInfo(\"auth\");\n  const q = query(collection(db, \"transactions\"), where(\"userID\", \"==\", userID));\n  const unsubscribe = onSnapshot(q, querySnapshot => {\n    let allTransactins = [];\n    querySnapshot.forEach(doc => {\n      allTransactins.push(doc.data());\n    });\n    setTransactions(allTransactins);\n  });\n  console.log(transactions);\n\n  //   const getTransactions = async () => {\n  //     const q = query(\n  //       collection(db, \"transactions\"),\n  //       where(\"userID\", \"==\", userID)\n  //     );\n\n  //     const unsubscribe = onSnapshot(q, (querySnapshot) => {\n  //       let allTransactins = [];\n  //       querySnapshot.forEach((doc) => {\n  //         allTransactins.push(doc.data());\n  //       });\n\n  //       setTransactions(allTransactins);\n  //     });\n  //     return () => unsubscribe();\n  //   };\n\n  //   useEffect(() => {\n  //     getTransactions();\n  //   }, []);\n\n  return {\n    transactions\n  };\n};\n_s(useGetTransaction, \"soqsalF+/rwv/pjoz7GmiXshAUI=\", false, function () {\n  return [useGetUserInfo];\n});","map":{"version":3,"names":["useEffect","useState","db","query","collection","where","onSnapshot","useGetUserInfo","useGetTransaction","_s","transactions","setTransactions","userID","q","unsubscribe","querySnapshot","allTransactins","forEach","doc","push","data","console","log"],"sources":["/Users/lucylu/Desktop/projects/expense-tracker/src/hooks/useGetTransaction.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { db } from \"../config/firebase-config\";\nimport { query, collection, where, onSnapshot } from \"firebase/firestore\";\nimport { useGetUserInfo } from \"./useGetUserInfo\";\n\nexport const useGetTransaction = () => {\n  const [transactions, setTransactions] = useState([]);\n  const { userID } = useGetUserInfo(\"auth\");\n\n  const q = query(\n    collection(db, \"transactions\"),\n    where(\"userID\", \"==\", userID)\n  );\n\n  const unsubscribe = onSnapshot(q, (querySnapshot) => {\n    let allTransactins = [];\n    querySnapshot.forEach((doc) => {\n      allTransactins.push(doc.data());\n    });\n\n    setTransactions(allTransactins);\n  });\n  console.log(transactions);\n\n  //   const getTransactions = async () => {\n  //     const q = query(\n  //       collection(db, \"transactions\"),\n  //       where(\"userID\", \"==\", userID)\n  //     );\n\n  //     const unsubscribe = onSnapshot(q, (querySnapshot) => {\n  //       let allTransactins = [];\n  //       querySnapshot.forEach((doc) => {\n  //         allTransactins.push(doc.data());\n  //       });\n\n  //       setTransactions(allTransactins);\n  //     });\n  //     return () => unsubscribe();\n  //   };\n\n  //   useEffect(() => {\n  //     getTransactions();\n  //   }, []);\n\n  return { transactions };\n};\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,EAAE,QAAQ,2BAA2B;AAC9C,SAASC,KAAK,EAAEC,UAAU,EAAEC,KAAK,EAAEC,UAAU,QAAQ,oBAAoB;AACzE,SAASC,cAAc,QAAQ,kBAAkB;AAEjD,OAAO,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM;IAAEW;EAAO,CAAC,GAAGL,cAAc,CAAC,MAAM,CAAC;EAEzC,MAAMM,CAAC,GAAGV,KAAK,CACbC,UAAU,CAACF,EAAE,EAAE,cAAc,CAAC,EAC9BG,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEO,MAAM,CAC9B,CAAC;EAED,MAAME,WAAW,GAAGR,UAAU,CAACO,CAAC,EAAGE,aAAa,IAAK;IACnD,IAAIC,cAAc,GAAG,EAAE;IACvBD,aAAa,CAACE,OAAO,CAAEC,GAAG,IAAK;MAC7BF,cAAc,CAACG,IAAI,CAACD,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC;IACjC,CAAC,CAAC;IAEFT,eAAe,CAACK,cAAc,CAAC;EACjC,CAAC,CAAC;EACFK,OAAO,CAACC,GAAG,CAACZ,YAAY,CAAC;;EAEzB;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA,OAAO;IAAEA;EAAa,CAAC;AACzB,CAAC;AAACD,EAAA,CAzCWD,iBAAiB;EAAA,QAETD,cAAc;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}